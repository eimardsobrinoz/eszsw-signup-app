
<form *ngIf="form else loading" class="form" (ngSubmit)="onSubmit(f)" #f="ngForm">
    <fieldset class="form__fieldset">
        <legend class="sr-only">Login Form</legend>

        <ng-container *ngFor="let inputControl of form.inputsControls">
            <eszsw-custom-input 
            ngModel 
            [errorMsg]="inputControl.errorMsg"
            [label]="inputControl.label" 
            [name]="inputControl.name"
            [type]="inputControl?.type"
            [pattern]=inputControl?.pattern
            [controlValidation] = "inputControl.validations">
            </eszsw-custom-input>
        </ng-container>

        <button type="submit" 
        class="form__btn" 
        [ngClass]="{'disabled' : !f.valid}"
        [disabled]="f.valid">
        {{form.btnLabel}}
        </button>
    </fieldset>
</form>

<ng-template #loading>
    <eszsw-loading></eszsw-loading>
</ng-template>

